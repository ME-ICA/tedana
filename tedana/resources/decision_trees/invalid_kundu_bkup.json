{
    "tree_id": "kundu_MEICA27_decision_tree",
    "info": "Following the full decision tree designed by Prantik Kundu",
    "report": "This is based on the minimal criteria of the original MEICA decision tree without the more agressive noise removal steps",
    "refs": "Kundu 2013",
    "necessary_metrics": [
        "kappa",
        "rho",
        "countsigFS0",
        "countsigFT2",
        "dice_FS0",
        "dice_FT2",
        "signal-noise_t",
        "variance explained",
        "d_table_score"
    ],
    "nodes": [
        {
            "functionname": "manual_classify",
            "parameters": {
                "new_classification": "unclassified",
                "decide_comps": "all"
            },
            "kwargs": {
                "log_extra_info": "Initializing all classifications as unclassified and all rationales as blank",
                "log_extra_report": "",
                "clear_rationale": true
            }
        },
        {
            "functionname": "metric1_greaterthan_metric2",
            "parameters": {
                "ifTrue": "rejected",
                "ifFalse": "nochange",
                "decide_comps": "all",
                "metric1": "rho",
                "metric2": "kappa"
            },
            "kwargs": {
                "log_extra_info": "Reject if Kappa>Rho",
                "log_extra_report": "",
                "metric2_scale": 1
            }
        },
        {
            "functionname": "metric1_greaterthan_metric2",
            "parameters": {
                "ifTrue": "rejected",
                "ifFalse": "nochange",
                "decide_comps": "all",
                "metric1": "countsigFS0",
                "metric2": "countsigFT2"
            },
            "kwargs": {
                "log_extra_info": "Reject if countsig_in S0clusters > T2clusters",
                "log_extra_report": "",
                "metric2_scale": 1
            }
        },
        {
            "functionname": "metric1_greaterthan_metric2",
            "parameters": {
                "ifTrue": "rejected",
                "ifFalse": "nochange",
                "decide_comps": "all",
                "metric1": "dice_FS0",
                "metric2": "dice_FT2"
            },
            "kwargs": {
                "log_extra_info": "Reject if DICE S0>T2",
                "log_extra_report": "",
                "metric2_scale": 1
            }
        },
        {
            "functionname": "metric1_greaterthan_metric2",
            "parameters": {
                "ifTrue": "rejected",
                "ifFalse": "nochange",
                "decide_comps": "all",
                "metric1": 0,
                "metric2": "signal-noise_t"
            },
            "kwargs": {
                "log_extra_info": "Reject if T2fitdiff_invsout_ICAmap_Tstat<0",
                "log_extra_report": "",
                "metric2_scale": 1
            }
        },
        {
            "functionname": "kappa_rho_elbow_cutoffs_kundu",
            "parameters": {
                "ifTrue": "provisionalaccept",
                "ifFalse": "provisionalreject",
                "decide_comps": "unclassified",
                "n_echos": null
            },
            "kwargs": {
                "log_extra_info": "",
                "log_extra_report": ""
            }
        },
        {
            "functionname": "classification_exists",
            "parameters": {
                "ifTrue": "nochange",
                "ifFalse": "ignored",
                "decide_comps": [
                    "provisionalaccept",
                    "provisionalreject"
                ],
                "class_comp_exists": "provisionalaccept"
            },
            "kwargs": {
                "log_extra_info": "",
                "log_extra_report": ""
            }
        },
        {
            "functionname": "meanmetricrank_and_variance_greaterthan_thresh",
            "parameters": {
                "ifTrue": "rejected",
                "ifFalse": "nochange",
                "decide_comps": [
                    "provisionalaccept",
                    "provisionalreject"
                ],
                "n_vols": null
            },
            "kwargs": {
                "high_perc": 90,
                "log_extra_info": "",
                "log_extra_report": ""
            }
        },
        {
            "functionname": "lowvariance_highmeanmetricrank_lowkappa",
            "parameters": {
                "ifTrue": "ignored",
                "ifFalse": "nochange",
                "decide_comps": [
                    "provisionalaccept",
                    "provisionalreject"
                ],
                "n_echos": null,
                "n_vols": null
            },
            "kwargs": {
                "low_perc": 25,
                "log_extra_info": "",
                "log_extra_report": ""
            }
        },
        {
            "functionname": "classification_exists",
            "parameters": {
                "ifTrue": "nochange",
                "ifFalse": "accepted",
                "decide_comps": [
                    "provisionalaccept",
                    "provisionalreject"
                ],
                "class_comp_exists": "provisionalreject"
            },
            "kwargs": {
                "log_extra_info": "",
                "log_extra_report": ""
            }
        },
        {
            "functionname": "highvariance_highmeanmetricrank_highkapparatio",
            "parameters": {
                "ifTrue": "rejected",
                "ifFalse": "nochange",
                "decide_comps": [
                    "provisionalaccept",
                    "provisionalreject"
                ],
                "n_echos": null,
                "n_vols": null
            },
            "kwargs": {
                "prev_X_steps": 3,
                "log_extra_info": "",
                "log_extra_report": ""
            }
        },
        {
            "functionname": "highvariance_highmeanmetricrank",
            "parameters": {
                "ifTrue": "rejected",
                "ifFalse": "nochange",
                "decide_comps": [
                    "provisionalaccept",
                    "provisionalreject"
                ],
                "n_echos": null,
                "n_vols": null
            },
            "kwargs": {
                "prev_X_steps": 1,
                "log_extra_info": "",
                "log_extra_report": ""
            }
        },
        {
            "functionname": "highvariance_highmeanmetricrank",
            "parameters": {
                "ifTrue": "ignored",
                "ifFalse": "nochange",
                "decide_comps": [
                    "provisionalaccept",
                    "provisionalreject"
                ],
                "n_echos": null
            },
            "kwargs": {
                "prev_X_steps": 2,
                "high_perc": 100,
                "extend_factor": 1,
                "recalc_varex_lower_thresh": true,
                "log_extra_info": "",
                "log_extra_report": ""
            }
        },
        {
            "functionname": "highvariance_lowkappa",
            "parameters": {
                "ifTrue": "ignored",
                "ifFalse": "nochange",
                "decide_comps": [
                    "provisionalaccept",
                    "provisionalreject"
                ],
                "n_echos": null
            },
            "kwargs": {
                "log_extra_info": "",
                "log_extra_report": ""
            }
        },
        {
            "functionname": "manual_classify",
            "parameters": {
                "new_classification": "accepted",
                "decide_comps": "provisionalaccept"
            },
            "kwargs": {
                "log_extra_info": "",
                "log_extra_report": "",
                "clear_rationale": false
            }
        },
        {
            "functionname": "manual_classify",
            "parameters": {
                "new_classification": "rejected",
                "decide_comps": "provisionalreject"
            },
            "kwargs": {
                "log_extra_info": "",
                "log_extra_report": "",
                "clear_rationale": false
            }
        }
    ]
}
